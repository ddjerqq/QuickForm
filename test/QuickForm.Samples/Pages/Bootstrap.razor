@page "/bootstrap"

@using QuickForm.Attributes
@using System.ComponentModel
@using System.ComponentModel.DataAnnotations
@using System.Diagnostics.CodeAnalysis
@using QuickForm.Components.Bootstrap

<PageTitle>Bootstrap example</PageTitle>

<BsQuickForm @ref="Form" Model="Model" OnSubmit="@OnSubmit"/>

@code {

    public BsQuickForm<LoginCommand> Form { get; set; } = default!;

    public LoginCommand Model { get; set; } = new();

    [SuppressMessage("ReSharper", "UnusedMember.Global")]
    public enum FavoriteEmoji
    {
        [Display(Name = "😺")]
        A,

        [Display(Name = "🐶")]
        B,

        [Display(Name = "🦝")]
        C,
    }

    [SuppressMessage("ReSharper", "UnusedMember.Global")]
    public class LoginCommand
    {
        [Required]
        [Placeholder]
        [DisplayName("Email Address")]
        [EmailAddress]
        [ValidFeedback("Looks good!")]
        [Description("We will never share your email with anyone")]
        public string EmailAddress { get; set; } = string.Empty;

        [Required]
        [Placeholder("Enter password...")]
        [DataType(DataType.Password)]
        [Description("We will never share your password with anyone")]
        [RegularExpression(@"^(?=.*[a-z])(?=.*[A-Z]).{8,32}$", ErrorMessage = "Password must have at least 8 characters, one uppercase letter, one lowercase letter...")]
        public string Password { get; set; } = string.Empty;

        [Required]
        [Description("Please check me")]
        public bool Checkbox { get; set; }

        [Required]
        [DisplayName("Favorite Emoji")]
        [Description("Please select one")]
        public FavoriteEmoji FavEmoji { get; set; }
    }

    private void OnSubmit()
    {
        Form.ValidateAllFields();
        Console.WriteLine("Form submitted");
    }

}